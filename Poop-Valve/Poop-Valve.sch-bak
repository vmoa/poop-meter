EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "Poop Valve Controller"
Date ""
Rev "0.1 (draft)"
Comp "Robert Ferguson Observatory"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Connector:Raspberry_Pi_2_3 J?
U 1 1 6329DED7
P 7650 3100
F 0 "J?" H 6950 4450 50  0000 C CNN
F 1 "RaspberryPi" H 7000 4350 50  0000 C CNN
F 2 "" H 7650 3100 50  0001 C CNN
F 3 "https://www.raspberrypi.org/documentation/hardware/raspberrypi/schematics/rpi_SCH_3bplus_1p0_reduced.pdf" H 7650 3100 50  0001 C CNN
	1    7650 3100
	1    0    0    -1  
$EndComp
$Comp
L Isolator:4N25 U?
U 1 1 632A76B5
P 5400 2050
F 0 "U?" H 5400 2375 50  0000 C CNN
F 1 "4N25" H 5400 2284 50  0000 C CNN
F 2 "Package_DIP:DIP-6_W7.62mm" H 5200 1850 50  0001 L CIN
F 3 "https://www.vishay.com/docs/83725/4n25.pdf" H 5400 2050 50  0001 L CNN
	1    5400 2050
	1    0    0    -1  
$EndComp
$Comp
L Isolator:4N25 U?
U 1 1 632A8434
P 5400 2650
F 0 "U?" H 5400 2975 50  0000 C CNN
F 1 "4N25" H 5400 2884 50  0000 C CNN
F 2 "Package_DIP:DIP-6_W7.62mm" H 5200 2450 50  0001 L CIN
F 3 "https://www.vishay.com/docs/83725/4n25.pdf" H 5400 2650 50  0001 L CNN
	1    5400 2650
	1    0    0    -1  
$EndComp
$Comp
L Device:Battery BT?
U 1 1 632C7943
P 3350 6350
F 0 "BT?" V 3595 6350 50  0000 C CNN
F 1 "12V" V 3504 6350 50  0000 C CNN
F 2 "" V 3350 6410 50  0001 C CNN
F 3 "~" V 3350 6410 50  0001 C CNN
	1    3350 6350
	0    -1   -1   0   
$EndComp
$Comp
L Device:LED D?
U 1 1 632DE527
P 4400 2750
F 0 "D?" H 4393 2967 50  0000 C CNN
F 1 "LED" H 4393 2876 50  0000 C CNN
F 2 "" H 4400 2750 50  0001 C CNN
F 3 "~" H 4400 2750 50  0001 C CNN
	1    4400 2750
	-1   0    0    1   
$EndComp
$Comp
L Device:LED D?
U 1 1 632DEC5A
P 4400 2150
F 0 "D?" H 4393 2367 50  0000 C CNN
F 1 "LED" H 4393 2276 50  0000 C CNN
F 2 "" H 4400 2150 50  0001 C CNN
F 3 "~" H 4400 2150 50  0001 C CNN
	1    4400 2150
	-1   0    0    1   
$EndComp
$Comp
L Connector:6P6C J?
U 1 1 632E13D0
P 1100 3500
F 0 "J?" H 1157 4067 50  0000 C CNN
F 1 "Valve" H 1157 3976 50  0000 C CNN
F 2 "" V 1100 3525 50  0001 C CNN
F 3 "~" V 1100 3525 50  0001 C CNN
	1    1100 3500
	1    0    0    -1  
$EndComp
$Comp
L Connector:Conn_Coaxial_Power J?
U 1 1 632E443C
P 3300 6850
F 0 "J?" V 3525 6800 50  0000 C CNN
F 1 "Charger" V 3434 6800 50  0000 C CNN
F 2 "" H 3300 6800 50  0001 C CNN
F 3 "~" H 3300 6800 50  0001 C CNN
	1    3300 6850
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3550 6850 3500 6850
Wire Wire Line
	3150 6850 3200 6850
Wire Wire Line
	3900 5800 5250 5800
$Comp
L Device:R R?
U 1 1 632F805C
P 4100 2150
F 0 "R?" V 4300 2150 50  0000 C CNN
F 1 "R" V 4200 2150 50  0000 C CNN
F 2 "" V 4030 2150 50  0001 C CNN
F 3 "~" H 4100 2150 50  0001 C CNN
	1    4100 2150
	0    1    1    0   
$EndComp
$Comp
L Device:R R?
U 1 1 632F930A
P 4100 2750
F 0 "R?" V 4300 2750 50  0000 C CNN
F 1 "R" V 4200 2750 50  0000 C CNN
F 2 "" V 4030 2750 50  0001 C CNN
F 3 "~" H 4100 2750 50  0001 C CNN
	1    4100 2750
	0    1    1    0   
$EndComp
$Comp
L Switch:SW_DP3T SW?
U 2 1 633498EC
P 2300 4500
F 0 "SW?" H 2300 4175 50  0001 C CNN
F 1 "DP3T Momentary" H 2050 4350 50  0000 C CNN
F 2 "" H 1675 4675 50  0001 C CNN
F 3 "~" H 1675 4675 50  0001 C CNN
	2    2300 4500
	1    0    0    -1  
$EndComp
$Comp
L Switch:SW_DP3T SW?
U 1 1 6334755E
P 2300 4100
F 0 "SW?" H 2300 4291 50  0000 C CNN
F 1 "SW_DP3T" H 2300 3866 50  0001 C CNN
F 2 "" H 1675 4275 50  0001 C CNN
F 3 "~" H 1675 4275 50  0001 C CNN
	1    2300 4100
	1    0    0    -1  
$EndComp
Connection ~ 3150 6350
Wire Wire Line
	3150 6350 3150 6850
Connection ~ 3550 6350
Wire Wire Line
	3550 6350 3550 6850
Wire Wire Line
	3900 5800 3150 5800
Connection ~ 3900 5800
Connection ~ 3150 5800
Wire Wire Line
	3150 5800 3150 6350
Wire Wire Line
	3550 5650 4400 5650
Connection ~ 3550 5650
Wire Wire Line
	3550 5650 3550 6350
Wire Wire Line
	3150 3400 3150 4500
Wire Wire Line
	3550 3400 3550 4100
Wire Wire Line
	2100 4100 1800 4100
Wire Wire Line
	1800 4100 1800 3600
Wire Wire Line
	1700 3700 1700 4500
Wire Wire Line
	1700 4500 2100 4500
Wire Wire Line
	2500 4200 2800 4200
Wire Wire Line
	2800 4200 2800 4400
Wire Wire Line
	2500 4400 2800 4400
Connection ~ 2800 4400
Wire Wire Line
	2500 4000 2700 4000
Wire Wire Line
	2700 4000 2700 4600
Wire Wire Line
	2500 4600 2700 4600
Connection ~ 2700 4600
Wire Wire Line
	2500 4500 3150 4500
Connection ~ 3150 4500
Wire Wire Line
	3150 4500 3150 5800
Wire Wire Line
	2500 4100 3550 4100
Connection ~ 3550 4100
Wire Wire Line
	3550 4100 3550 5650
Wire Wire Line
	3450 3200 3450 1950
Wire Wire Line
	3550 3300 3550 2550
Wire Wire Line
	7250 4400 7350 4400
Connection ~ 7350 4400
Wire Wire Line
	7350 4400 7450 4400
Connection ~ 7450 4400
Wire Wire Line
	7450 4400 7550 4400
Connection ~ 7550 4400
Wire Wire Line
	7550 4400 7650 4400
Connection ~ 7650 4400
Wire Wire Line
	7650 4400 7750 4400
Connection ~ 7750 4400
Wire Wire Line
	7750 4400 7850 4400
Connection ~ 7850 4400
Wire Wire Line
	7850 4400 7950 4400
$Comp
L power:GND #PWR?
U 1 1 6340BDEA
P 7950 4650
F 0 "#PWR?" H 7950 4400 50  0001 C CNN
F 1 "GND" H 7955 4477 50  0000 C CNN
F 2 "" H 7950 4650 50  0001 C CNN
F 3 "" H 7950 4650 50  0001 C CNN
	1    7950 4650
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 6340CC6A
P 7850 1600
F 0 "#PWR?" H 7850 1450 50  0001 C CNN
F 1 "+3.3V" H 7865 1773 50  0000 C CNN
F 2 "" H 7850 1600 50  0001 C CNN
F 3 "" H 7850 1600 50  0001 C CNN
	1    7850 1600
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 6340D925
P 7450 1600
F 0 "#PWR?" H 7450 1450 50  0001 C CNN
F 1 "+5V" H 7465 1773 50  0000 C CNN
F 2 "" H 7450 1600 50  0001 C CNN
F 3 "" H 7450 1600 50  0001 C CNN
	1    7450 1600
	1    0    0    -1  
$EndComp
Wire Wire Line
	7450 1800 7550 1800
Wire Wire Line
	7750 1800 7850 1800
Wire Wire Line
	7850 1800 7850 1600
Connection ~ 7850 1800
Wire Wire Line
	7450 1800 7450 1600
Connection ~ 7450 1800
$Comp
L power:+3.3V #PWR?
U 1 1 6341562C
P 5800 1950
F 0 "#PWR?" H 5800 1800 50  0001 C CNN
F 1 "+3.3V" H 5800 2100 50  0000 C CNN
F 2 "" H 5800 1950 50  0001 C CNN
F 3 "" H 5800 1950 50  0001 C CNN
	1    5800 1950
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 63417DAA
P 5800 2550
F 0 "#PWR?" H 5800 2400 50  0001 C CNN
F 1 "+3.3V" H 5800 2700 50  0000 C CNN
F 2 "" H 5800 2550 50  0001 C CNN
F 3 "" H 5800 2550 50  0001 C CNN
	1    5800 2550
	1    0    0    -1  
$EndComp
Wire Wire Line
	6050 3300 6850 3300
Wire Wire Line
	5950 3400 6850 3400
Wire Wire Line
	5700 2750 5950 2750
Wire Wire Line
	5950 2750 5950 3400
Wire Wire Line
	5700 2150 6050 2150
Wire Wire Line
	6050 2150 6050 3300
Wire Wire Line
	5800 2650 5800 2550
Wire Wire Line
	5700 2650 5800 2650
Wire Wire Line
	5700 2050 5800 2050
Wire Wire Line
	5800 2050 5800 1950
NoConn ~ 5700 1950
NoConn ~ 5700 2550
$Comp
L power:+3.3V #PWR?
U 1 1 63495D6D
P 5850 3950
F 0 "#PWR?" H 5850 3800 50  0001 C CNN
F 1 "+3.3V" H 5865 4123 50  0000 C CNN
F 2 "" H 5850 3950 50  0001 C CNN
F 3 "" H 5850 3950 50  0001 C CNN
	1    5850 3950
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 634961D4
P 5350 3950
F 0 "#PWR?" H 5350 3800 50  0001 C CNN
F 1 "+3.3V" H 5365 4123 50  0000 C CNN
F 2 "" H 5350 3950 50  0001 C CNN
F 3 "" H 5350 3950 50  0001 C CNN
	1    5350 3950
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 63496A3D
P 4500 3950
F 0 "#PWR?" H 4500 3800 50  0001 C CNN
F 1 "+3.3V" H 4515 4123 50  0000 C CNN
F 2 "" H 4500 3950 50  0001 C CNN
F 3 "" H 4500 3950 50  0001 C CNN
	1    4500 3950
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 63496EC8
P 4000 3950
F 0 "#PWR?" H 4000 3800 50  0001 C CNN
F 1 "+3.3V" H 4015 4123 50  0000 C CNN
F 2 "" H 4000 3950 50  0001 C CNN
F 3 "" H 4000 3950 50  0001 C CNN
	1    4000 3950
	1    0    0    -1  
$EndComp
Wire Wire Line
	5250 3700 5750 3700
Wire Wire Line
	3800 5000 3800 5100
Wire Wire Line
	3800 4100 3800 4000
Wire Wire Line
	6350 4000 6350 4200
Wire Wire Line
	5250 5800 5250 5000
Wire Wire Line
	3900 5800 3900 5000
Wire Wire Line
	3800 4000 4300 4000
$Comp
L myLib:Relay_Module K?
U 1 1 632AF7F8
P 4450 4550
F 0 "K?" V 4050 4700 50  0000 C CNN
F 1 "Relay_Module" H 4450 4734 50  0001 C CNN
F 2 "" H 4450 4550 50  0001 C CNN
F 3 "" H 4450 4550 50  0001 C CNN
	1    4450 4550
	0    1    1    0   
$EndComp
$Comp
L myLib:Relay_Module K?
U 1 1 632AF059
P 5800 4550
F 0 "K?" V 5400 4650 50  0000 L CNN
F 1 "Relay_Module" H 5800 4734 50  0001 C CNN
F 2 "" H 5800 4550 50  0001 C CNN
F 3 "" H 5800 4550 50  0001 C CNN
	1    5800 4550
	0    1    1    0   
$EndComp
$Comp
L myLib:Relay_Module K?
U 1 1 632AED33
P 3950 4550
F 0 "K?" V 3550 4650 50  0000 L CNN
F 1 "Open Relays" H 3700 4750 50  0000 L CNN
F 2 "" H 3950 4550 50  0001 C CNN
F 3 "" H 3950 4550 50  0001 C CNN
	1    3950 4550
	0    1    1    0   
$EndComp
$Comp
L myLib:Relay_Module K?
U 1 1 632ADACC
P 5300 4550
F 0 "K?" V 4900 4650 50  0000 L CNN
F 1 "Close Relays" H 5050 4750 50  0000 L CNN
F 2 "" H 5300 4550 50  0001 C CNN
F 3 "" H 5300 4550 50  0001 C CNN
	1    5300 4550
	0    1    1    0   
$EndComp
Wire Wire Line
	3900 3600 3900 4100
Wire Wire Line
	4000 3950 4000 4100
Wire Wire Line
	5250 3700 5250 4100
Wire Wire Line
	5350 3950 5350 4100
Wire Wire Line
	5150 4100 5150 4000
Connection ~ 5150 4000
Wire Wire Line
	5150 4000 5650 4000
$Comp
L power:GND #PWR?
U 1 1 6351266C
P 6350 4200
F 0 "#PWR?" H 6350 3950 50  0001 C CNN
F 1 "GND" H 6355 4027 50  0000 C CNN
F 2 "" H 6350 4200 50  0001 C CNN
F 3 "" H 6350 4200 50  0001 C CNN
	1    6350 4200
	1    0    0    -1  
$EndComp
Wire Wire Line
	2800 5100 3800 5100
Wire Wire Line
	2800 4400 2800 5100
Connection ~ 3800 5100
Wire Wire Line
	2700 4600 2700 5200
Wire Wire Line
	2700 5200 4300 5200
Wire Wire Line
	3800 5100 5650 5100
Wire Wire Line
	5150 5200 5150 5000
NoConn ~ 5350 5000
NoConn ~ 4000 5000
Wire Wire Line
	7950 4400 7950 4650
Connection ~ 7950 4400
Wire Wire Line
	1500 3700 1700 3700
Wire Wire Line
	1500 3600 1800 3600
Wire Wire Line
	1500 3400 3150 3400
Wire Wire Line
	1500 3300 3550 3300
Wire Wire Line
	1500 3200 3450 3200
$Comp
L power:+3.3V #PWR?
U 1 1 635DEA4F
P 9250 2900
F 0 "#PWR?" H 9250 2750 50  0001 C CNN
F 1 "+3.3V" H 9265 3073 50  0000 C CNN
F 2 "" H 9250 2900 50  0001 C CNN
F 3 "" H 9250 2900 50  0001 C CNN
	1    9250 2900
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 635DF8B4
P 9250 4000
F 0 "#PWR?" H 9250 3750 50  0001 C CNN
F 1 "GND" H 9255 3827 50  0000 C CNN
F 2 "" H 9250 4000 50  0001 C CNN
F 3 "" H 9250 4000 50  0001 C CNN
	1    9250 4000
	1    0    0    -1  
$EndComp
$Comp
L Analog_ADC:MCP3008 U?
U 1 1 635CD1CB
P 9450 3400
F 0 "U?" H 10000 3950 50  0000 C CNN
F 1 "MCP3008" H 9950 3850 50  0000 C CNN
F 2 "" H 9550 3500 50  0001 C CNN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/21295d.pdf" H 9550 3500 50  0001 C CNN
	1    9450 3400
	-1   0    0    -1  
$EndComp
Wire Wire Line
	8450 3600 8650 3600
$Comp
L Connector:Conn_01x02_Male J?
U 1 1 6362E2EC
P 10750 3100
F 0 "J?" H 10800 3250 50  0000 R CNN
F 1 "V Sample" H 10950 2900 50  0000 R CNN
F 2 "" H 10750 3100 50  0001 C CNN
F 3 "~" H 10750 3100 50  0001 C CNN
	1    10750 3100
	-1   0    0    -1  
$EndComp
Wire Wire Line
	10050 3100 10550 3100
Wire Wire Line
	10550 3200 10400 3200
Wire Wire Line
	10400 4150 9550 4150
Wire Wire Line
	9550 4150 9550 4000
Wire Wire Line
	10400 3200 10400 4150
Wire Wire Line
	8850 3400 8450 3400
Wire Wire Line
	8850 3500 8450 3500
Wire Wire Line
	8650 3300 8650 3600
Wire Wire Line
	8650 3300 8850 3300
Wire Wire Line
	8550 3300 8550 3450
Wire Wire Line
	8550 3450 8750 3450
Wire Wire Line
	8750 3450 8750 3600
Wire Wire Line
	8450 3300 8550 3300
Wire Wire Line
	8750 3600 8850 3600
$Comp
L power:+5V #PWR?
U 1 1 636768E0
P 9550 2900
F 0 "#PWR?" H 9550 2750 50  0001 C CNN
F 1 "+5V" H 9565 3073 50  0000 C CNN
F 2 "" H 9550 2900 50  0001 C CNN
F 3 "" H 9550 2900 50  0001 C CNN
	1    9550 2900
	1    0    0    -1  
$EndComp
$Comp
L Connector:Conn_01x04_Male J?
U 1 1 6367843A
P 10750 2400
F 0 "J?" H 10800 2650 50  0000 R CNN
F 1 "Grove LCD" H 10950 2100 50  0000 R CNN
F 2 "" H 10750 2400 50  0001 C CNN
F 3 "~" H 10750 2400 50  0001 C CNN
	1    10750 2400
	-1   0    0    -1  
$EndComp
Wire Wire Line
	8450 2600 10550 2600
Wire Wire Line
	8450 2500 10550 2500
$Comp
L power:GND #PWR?
U 1 1 636868F7
P 10350 2700
F 0 "#PWR?" H 10350 2450 50  0001 C CNN
F 1 "GND" H 10355 2527 50  0000 C CNN
F 2 "" H 10350 2700 50  0001 C CNN
F 3 "" H 10350 2700 50  0001 C CNN
	1    10350 2700
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 63687541
P 10450 2200
F 0 "#PWR?" H 10450 2050 50  0001 C CNN
F 1 "+5V" H 10465 2373 50  0000 C CNN
F 2 "" H 10450 2200 50  0001 C CNN
F 3 "" H 10450 2200 50  0001 C CNN
	1    10450 2200
	1    0    0    -1  
$EndComp
Wire Wire Line
	10550 2300 10350 2300
Wire Wire Line
	10350 2300 10350 2700
Wire Wire Line
	10550 2400 10450 2400
Wire Wire Line
	10450 2400 10450 2200
$Comp
L Device:R R?
U 1 1 63696CF2
P 4950 1950
F 0 "R?" V 4743 1950 50  0000 C CNN
F 1 "R" V 4834 1950 50  0000 C CNN
F 2 "" V 4880 1950 50  0001 C CNN
F 3 "~" H 4950 1950 50  0001 C CNN
	1    4950 1950
	0    1    1    0   
$EndComp
$Comp
L Device:R R?
U 1 1 636976E4
P 4950 2550
F 0 "R?" V 4743 2550 50  0000 C CNN
F 1 "R" V 4834 2550 50  0000 C CNN
F 2 "" V 4880 2550 50  0001 C CNN
F 3 "~" H 4950 2550 50  0001 C CNN
	1    4950 2550
	0    1    1    0   
$EndComp
Wire Wire Line
	4550 2750 4700 2750
Wire Wire Line
	3550 3400 4700 3400
Wire Wire Line
	4550 2150 4700 2150
Wire Wire Line
	4700 2150 4700 2750
Connection ~ 4700 2150
Wire Wire Line
	4700 2150 5100 2150
Connection ~ 4700 2750
Wire Wire Line
	4700 2750 4700 3400
Wire Wire Line
	4700 2750 5100 2750
Wire Wire Line
	5650 4100 5650 4000
Connection ~ 5650 4000
Wire Wire Line
	5750 4100 5750 3700
Connection ~ 5750 3700
Wire Wire Line
	5850 4100 5850 3950
Wire Wire Line
	4300 4100 4300 4000
Connection ~ 4300 4000
Wire Wire Line
	4400 4100 4400 3600
Connection ~ 4400 3600
Wire Wire Line
	4400 3600 3900 3600
Wire Wire Line
	4500 4100 4500 3950
Wire Wire Line
	5750 3700 6850 3700
Wire Wire Line
	5650 4000 6350 4000
Wire Wire Line
	4400 3600 6850 3600
Wire Wire Line
	4300 4000 5150 4000
Text Notes 1750 4800 0    50   ~ 0
(ON)-ON-(ON)
Wire Wire Line
	3450 1950 3850 1950
Wire Wire Line
	3550 2550 3850 2550
Wire Wire Line
	3850 1950 3850 2150
Wire Wire Line
	3850 2150 3950 2150
Connection ~ 3850 1950
Wire Wire Line
	3850 1950 4800 1950
Wire Wire Line
	3850 2550 3850 2750
Wire Wire Line
	3850 2750 3950 2750
Connection ~ 3850 2550
Wire Wire Line
	3850 2550 4800 2550
Wire Wire Line
	4300 5000 4300 5200
Connection ~ 4300 5200
Wire Wire Line
	4400 5000 4400 5650
Connection ~ 4400 5650
Wire Wire Line
	5650 5000 5650 5100
Wire Wire Line
	5750 5000 5750 5650
Wire Wire Line
	4400 5650 5750 5650
Wire Wire Line
	4300 5200 5150 5200
NoConn ~ 5850 5000
NoConn ~ 4500 5000
NoConn ~ 5200 2450
Text Notes 1500 3700 0    50   ~ 0
yellow
Text Notes 1500 3600 0    50   ~ 0
blue
NoConn ~ 1500 3500
Text Notes 1500 3400 0    50   ~ 0
black
Text Notes 1500 3300 0    50   ~ 0
red
Text Notes 1500 3200 0    50   ~ 0
green
Text Notes 4150 2050 0    50   ~ 0
Valve Open
Text Notes 4100 2650 0    50   ~ 0
Valve Closed
Text Notes 6400 3300 0    50   ~ 0
Valve Open
Text Notes 6350 3400 0    50   ~ 0
Valve Closed\n
Text Notes 6600 3600 0    50   ~ 0
Open
Text Notes 6600 3700 0    50   ~ 0
Close
Wire Notes Line rgb(132, 132, 132)
	2300 4050 2300 4450
$EndSCHEMATC
